<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Aventura en el Reino de Mery</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header id="titulo-principal">
    <h1 class="titulo-juego">Aventuras En El Reino De MeryLand</h1>
  </header>

  <div id="contenedor-juego">
    <!-- ESCENA 0: REGISTRO -->
    <section id="escena-registro" class="scene active">
      <div class="scene-header">
        <h2>Registro de Personaje</h2>
      </div>
      <div class="scene-contenido">
        <form id="form-registro" class="formulario-registro">

          <div class="form-group">
            <label for="input-nombre">Nombre del Cazador:</label>
            <input type="text" id="input-nombre" required maxlength="20" placeholder="Pon tu apodo..." />
            <span id="error-nombre" class="error-msg"></span>
          </div>

          <div class="fila-stats">
            <div class="stat-item">
              <label for="input-ataque">Ataque</label>
              <input type="number" id="input-ataque" min="0" max="10" value="0" required />
            </div>

            <div class="stat-item">
              <label for="input-defensa">Defensa</label>
              <input type="number" id="input-defensa" min="0" max="10" value="0" required />
            </div>

            <div class="stat-item">
              <label for="input-vida">Vida</label>
              <input type="number" id="input-vida" min="100" max="110" value="100" required />
            </div>
          </div>

          <div class="form-group">
            <p>Puntos disponibles: <span id="puntos-disponibles">10</span></p>
            <span id="error-puntos" class="error-msg"></span>
          </div>

          <button type="submit" class="btn-primary">Comenzar Aventura</button>
        </form>
      </div>
    </section>

    <!-- ESCENA 1: INICIO -->
    <section id="escena-inicio" class="scene">
      <div id="inicio-top-area">
        <div class="jugador-avatar-large">
          <img src="./img/jugador/maria.png" alt="Cazador" />
        </div>
        <h1 id="cazador-titulo">Cazador</h1>
      </div>

      <div id="inicio-boton-area">
        <div id="jugador-stats-grid">
          <div class="stat-box">
            <p>Ataque: <span id="inicio-ataque">0</span></p>
          </div>
          <div class="stat-box">
            <p>Defensa: <span id="inicio-defensa">0</span></p>
          </div>
          <div class="stat-box">
            <p>Vida: <span id="inicio-vida">0</span></p>
          </div>
          <div class="stat-box">
            <p>Monedas: <span id="inicio-monedas">500</span></p>
          </div>
        </div>
        <button id="btn-ir-mercado-desde-inicio" class="btn-primary">
          Continuar al Mercado
        </button>
      </div>
    </section>

    <!-- ESCENA 2: MERCADO -->
    <section id="escena-mercado" class="scene">
      <div class="scene-header">
        <h2 class="mercado-titulo">Mercado</h2>
        <div class="monedas-display">
          Monedas disponibles: <span id="monedas-disponibles">500</span>
        </div>
      </div>
      <div class="scene-contenido">

        <!-- LISTA DE PRODUCTOS -->
        <div id="lista-productos" class="grid-productos"></div>

        <!-- RESUMEN DE OFERTA -->
        <div class="oferta-wrapper">
          <p>Oferta: 20% descuento en todos los productos seleccionados</p>
          <div id="resumen-oferta">
            <p>Total seleccionado: <span id="total-seleccion">0 €</span></p>
            <p>Descuento aplicado: <span id="total-descuento">0 €</span></p>
            <p>Total con descuento: <span id="total-con-descuento">0 €</span></p>
          </div>
        </div>
      </div>
      <div class="mercado-footer">
        <button id="btn-ir-estado" class="btn-primary">Continuar</button>
      </div>
    </section>

    <!-- ESCENA 3: PERFIL ACTUALIZADO -->
    <section id="escena-estado" class="scene">
      <div id="estado-top-area">
        <div class="jugador-avatar-large">
          <img src="./img/jugador/maria.png" alt="Cazador" />
        </div>
        <h1 id="estado-titulo">Cazador</h1>
      </div>

      <div id="estado-boton-area">
        <div id="estado-stats-grid">
          <div class="stat-box">
            <p>Ataque: <span id="estado-ataque">0</span></p>
          </div>
          <div class="stat-box">
            <p>Defensa: <span id="estado-defensa">0</span></p>
          </div>
          <div class="stat-box">
            <p>Vida: <span id="estado-vida">0</span></p>
          </div>
          <div class="stat-box">
            <p>Monedas: <span id="estado-monedas">500</span></p>
          </div>
        </div>
        <button id="btn-ir-enemigos-2" class="btn-primary">Continuar</button>
      </div>
    </section>

    <!-- ESCENA 4: ENEMIGOS -->
    <section id="escena-enemigos" class="scene">
      <div class="scene-header">
        <h2>Enemigos</h2>
      </div>
      <div class="scene-contenido">
        <div id="lista-enemigos" class="grid-enemigos"></div>
        <button id="btn-empezar-batallas" class="btn-primary">
          Continuar
        </button>
      </div>
    </section>

    <!-- ESCENA 5: COMBATES -->
    <section id="escena-batallas" class="scene">
      <!-- MONEDAS que bajan -->
      <div class="monedas-cayendo-container">
        <img src="./img/moneda/moneda.png" alt="moneda" class="moneda-cayendo moneda-1">
        <img src="./img/moneda/moneda.png" alt="moneda" class="moneda-cayendo moneda-2">
        <img src="./img/moneda/moneda.png" alt="moneda" class="moneda-cayendo moneda-3">
      </div>

      <div class="scene-header">
        <h2>Combates</h2>
      </div>
      <div class="scene-contenido">
        <div id="resultado-combate" class="resultado-combate"></div>
        <button id="btn-siguiente-combate" class="btn-primary">
          Continuar
        </button>
      </div>
    </section>


    <!-- ESCENA 6: RESULTADO FINAL -->
    <section id="escena-final" class="scene">
      <div class="scene-header">
        <h2>Resultado Final</h2>
      </div>
      <div class="scene-contenido">
        <h3 id="final-rango"></h3>
        <p>Puntos totales: <span id="final-puntos">0</span></p>
        <p>Monedas restantes: <span id="final-monedas">0</span></p>
        <button id="btn-ir-historial-desde-final" class="btn-primary">
          Ver Historial de Partidas
        </button>
      </div>
    </section>

    <!-- ESCENA 8: Ranking -->
    <section id="escena-historial" class="scene">
      <div class="scene-header">
        <h2>Historial de Partidas</h2>
      </div>
      <div class="scene-contenido">

        <div id="contenedor-tabla" class="tabla-container">
          <table class="tabla-historial">
            <thead>
              <tr>
                <th>Cazador</th>
                <th>Puntos</th>
                <th>Monedas</th>
              </tr>
            </thead>
            <tbody id="tabla-body">

            </tbody>
          </table>
        </div>

        <div class="historial-footer">
          <button id="btn-historial-a-inicio" class="btn-secondary">Volver al Inicio</button>
        </div>

      </div>
    </section>
  </div>

  <!-- FOOTER - INVENTARIO -->
  <footer>
    <!-- MONEDERO -->
    <div class="monedero-container">
      <img src="./img/moneda/monedero.png" alt="monedero">
      <div class="monedero-cantidad" id="monedero-cantidad">500</div>
    </div>
    <div id="inventory-container">
      <div class="inventario-slot-vacio"></div>
      <div class="inventario-slot-vacio"></div>
      <div class="inventario-slot-vacio"></div>
      <div class="inventario-slot-vacio"></div>
      <div class="inventario-slot-vacio"></div>
      <div class="inventario-slot-vacio"></div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script type="module" src="./js/main.js"></script>
</body>

</html>